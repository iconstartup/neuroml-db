<style>
  #membrane-props .property-name { width: 50%; }
  #membrane-props .property-value { width: 49%; }
  #similar-ephyz { width: inherit }
  #similar-ephyz td { text-align: center; }
  #e-type { width: 50%; vertical-align: top; display: inline-block; }
  #salient-features { width: 49%; vertical-align: top; display: inline-block; }
    #clusters { width: 200px; margin: 0 auto; }
</style>
<div id="model-properties-container">
  <div id="e-type">
    <div id="section-header">Electrophysiology Type <span data-scroll="desc-e-type" class="help-btn ui-icon ui-icon-info"></span></div>
    <div id="clusters">
      <%= @ephyz_clusters.first["Root_Cluster"] %><br/>
      &nbsp;&nbsp;&nbsp;&#8667;<%= @ephyz_clusters.first["MultiSpiker_Cluster"] %><br/>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#8667;<%= @ephyz_clusters.first["MultiSpikerSub0_Cluster"] %><%= @ephyz_clusters.first["MultiSpikerSub1_Cluster"] %>
    </div>
  </div>
  <div id="salient-features">
    <div id="section-header">Differentiating Features <span data-scroll="desc-diff-features" class="help-btn ui-icon ui-icon-info"></span></div>
    <div>
      <div id="membrane-props" class="property-table">
        <table>
          <tbody>
          <% @ephyz_clusters.first["Differentiating_Features"].split(',').each do |record| %>
            <tr id="<%= record %>-diff">
            </tr>
            <script>jQuery(function() { jQuery('#<%= record %>-diff').html(jQuery('#<%= record %>').html()); })</script>
          <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div id="section-header">Models with Similar Electrophysiology Properties <span data-scroll="desc-similar-ephyz" class="help-btn ui-icon ui-icon-info"></span></div>

  <div id="similar-ephyz">
    <table>
      <tbody>
      <% @similar_cells.each do |record| %>
          <tr>
            <td><a <%= model_atag_params(record["Similar_Cell_ID"]) %>><%= record["Similar_Cell_Name"] %></a></td>
          </tr>
      <% end %>
      </tbody>
    </table>
  </div>
  <div id="section-header">All Electrophysiology Properties</div>
  <div id="membrane-props" class="property-table">
    <table>
      <tbody>
      <tr>
        <td class="property-name">Is Passive</td>
        <td class="property-value"><%= @model["Is_Passive"] == 1 ? "Yes" : "No" %></td>
      </tr>
      <tr>
        <td class="property-name">Is Intrinsically Spiking</td>
        <td class="property-value"><%= @model["Is_Intrinsically_Spiking"] == 1 ? "Yes" : "No" %></td>
      </tr>
      <tr>
        <td class="property-name">Resting Voltage</td>
        <td class="property-value"><%= display_field(@model, "Resting_Voltage", "%.2f", "N/A") %> mV</td>
      </tr>
      <tr>
        <td class="property-name">Rheobase Current Interval</td>
        <td class="property-value">(<%= display_field(@model, "Rheobase_Low", "%.4f", "N/A") %>, <%= display_field(@model, "Rheobase_High", "%.4f", "N/A") %>] nA</td>
      </tr>
      <tr>
        <td class="property-name">Threshold Current Interval</td>
        <td class="property-value">(<%= display_field(@model, "Threshold_Current_Low", "%.4f", "N/A") %>, <%= display_field(@model, "Threshold_Current_High", "%.4f", "N/A") %>] nA</td>
      </tr>
      <tr>
        <td class="property-name">Bias Current (to <%= display_field(@model, "Bias_Voltage", "%.2f", "N/A") %> mV)</td>
        <td class="property-value"><%= display_field(@model, "Bias_Current", "%.4f", "N/A") %> nA</td>
      </tr>
      <tr>
        <td class="property-name">Testing Temperature</td>
        <td class="property-value"><%= @publication["Temperature"] != nil ? @publication["Temperature"] : "36 (default)" %> &#176;C</td>
      </tr>
      <tr>
        <td class="property-name">Stability Interval</td>
        <td class="property-value">[<%= display_field(@model, "Stability_Range_Low_Corr", "%s", "N/A") %>, <%= display_field(@model, "Stability_Range_High_Corr", "%s", "N/A") %>] <%= @type == "Cell" ? "nA" : "mV" %></td>
      </tr>


      <tr id="AP12AmplitudeDrop">
        <td class="property-name">AP12AmplitudeDrop</td>
        <td class="property-value"><%= display_field(@model, "AP12AmplitudeDrop", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP1SSAmplitudeChange">
        <td class="property-name">AP1SSAmplitudeChange</td>
        <td class="property-value"><%= display_field(@model, "AP1SSAmplitudeChange", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP1Amplitude">
        <td class="property-name">AP1Amplitude</td>
        <td class="property-value"><%= display_field(@model, "AP1Amplitude", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP1WidthHalfHeight">
        <td class="property-name">AP1WidthHalfHeight</td>
        <td class="property-value"><%= display_field(@model, "AP1WidthHalfHeight", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP1WidthPeakToTrough">
        <td class="property-name">AP1WidthPeakToTrough</td>
        <td class="property-value"><%= display_field(@model, "AP1WidthPeakToTrough", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP1RateOfChangePeakToTrough">
        <td class="property-name">AP1RateOfChangePeakToTrough</td>
        <td class="property-value"><%= display_field(@model, "AP1RateOfChangePeakToTrough", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP1AHPDepth">
        <td class="property-name">AP1AHPDepth</td>
        <td class="property-value"><%= display_field(@model, "AP1AHPDepth", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP2Amplitude">
        <td class="property-name">AP2Amplitude</td>
        <td class="property-value"><%= display_field(@model, "AP2Amplitude", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP2WidthHalfHeight">
        <td class="property-name">AP2WidthHalfHeight</td>
        <td class="property-value"><%= display_field(@model, "AP2WidthHalfHeight", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP2WidthPeakToTrough">
        <td class="property-name">AP2WidthPeakToTrough</td>
        <td class="property-value"><%= display_field(@model, "AP2WidthPeakToTrough", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP2RateOfChangePeakToTrough">
        <td class="property-name">AP2RateOfChangePeakToTrough</td>
        <td class="property-value"><%= display_field(@model, "AP2RateOfChangePeakToTrough", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP2AHPDepth">
        <td class="property-name">AP2AHPDepth</td>
        <td class="property-value"><%= display_field(@model, "AP2AHPDepth", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP12AmplitudeChangePercent">
        <td class="property-name">AP12AmplitudeChangePercent</td>
        <td class="property-value"><%= display_field(@model, "AP12AmplitudeChangePercent", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP12HalfWidthChangePercent">
        <td class="property-name">AP12HalfWidthChangePercent</td>
        <td class="property-value"><%= display_field(@model, "AP12HalfWidthChangePercent", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP12RateOfChangePeakToTroughPercentChange">
        <td class="property-name">AP12RateOfChangePeakToTroughPercentChange</td>
        <td class="property-value"><%= display_field(@model, "AP12RateOfChangePeakToTroughPercentChange", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP12AHPDepthPercentChange">
        <td class="property-name">AP12AHPDepthPercentChange</td>
        <td class="property-value"><%= display_field(@model, "AP12AHPDepthPercentChange", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="InputResistance">
        <td class="property-name">InputResistance</td>
        <td class="property-value"><%= display_field(@model, "InputResistance", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP1DelayMean">
        <td class="property-name">AP1DelayMean</td>
        <td class="property-value"><%= display_field(@model, "AP1DelayMean", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP1DelaySD">
        <td class="property-name">AP1DelaySD</td>
        <td class="property-value"><%= display_field(@model, "AP1DelaySD", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP2DelayMean">
        <td class="property-name">AP2DelayMean</td>
        <td class="property-value"><%= display_field(@model, "AP2DelayMean", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP2DelaySD">
        <td class="property-name">AP2DelaySD</td>
        <td class="property-value"><%= display_field(@model, "AP2DelaySD", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="Burst1ISIMean">
        <td class="property-name">Burst1ISIMean</td>
        <td class="property-value"><%= display_field(@model, "Burst1ISIMean", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="Burst1ISISD">
        <td class="property-name">Burst1ISISD</td>
        <td class="property-value"><%= display_field(@model, "Burst1ISISD", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="InitialAccommodationMean">
        <td class="property-name">InitialAccommodationMean</td>
        <td class="property-value"><%= display_field(@model, "InitialAccommodationMean", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="SSAccommodationMean">
        <td class="property-name">SSAccommodationMean</td>
        <td class="property-value"><%= display_field(@model, "SSAccommodationMean", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AccommodationRateToSS">
        <td class="property-name">AccommodationRateToSS</td>
        <td class="property-value"><%= display_field(@model, "AccommodationRateToSS", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AccommodationAtSSMean">
        <td class="property-name">AccommodationAtSSMean</td>
        <td class="property-value"><%= display_field(@model, "AccommodationAtSSMean", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AccommodationRateMeanAtSS">
        <td class="property-name">AccommodationRateMeanAtSS</td>
        <td class="property-value"><%= display_field(@model, "AccommodationRateMeanAtSS", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="ISICV">
        <td class="property-name">ISICV</td>
        <td class="property-value"><%= display_field(@model, "ISICV", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="ISIMedian">
        <td class="property-name">ISIMedian</td>
        <td class="property-value"><%= display_field(@model, "ISIMedian", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="ISIBurstMeanChange">
        <td class="property-name">ISIBurstMeanChange</td>
        <td class="property-value"><%= display_field(@model, "ISIBurstMeanChange", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="SpikeRateStrongStim">
        <td class="property-name">SpikeRateStrongStim</td>
        <td class="property-value"><%= display_field(@model, "SpikeRateStrongStim", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP1DelayMeanStrongStim">
        <td class="property-name">AP1DelayMeanStrongStim</td>
        <td class="property-value"><%= display_field(@model, "AP1DelayMeanStrongStim", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP1DelaySDStrongStim">
        <td class="property-name">AP1DelaySDStrongStim</td>
        <td class="property-value"><%= display_field(@model, "AP1DelaySDStrongStim", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP2DelayMeanStrongStim">
        <td class="property-name">AP2DelayMeanStrongStim</td>
        <td class="property-value"><%= display_field(@model, "AP2DelayMeanStrongStim", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="AP2DelaySDStrongStim">
        <td class="property-name">AP2DelaySDStrongStim</td>
        <td class="property-value"><%= display_field(@model, "AP2DelaySDStrongStim", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="Burst1ISIMeanStrongStim">
        <td class="property-name">Burst1ISIMeanStrongStim</td>
        <td class="property-value"><%= display_field(@model, "Burst1ISIMeanStrongStim", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="Burst1ISISDStrongStim">
        <td class="property-name">Burst1ISISDStrongStim</td>
        <td class="property-value"><%= display_field(@model, "Burst1ISISDStrongStim", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="RampFirstSpike">
        <td class="property-name">RampFirstSpike</td>
        <td class="property-value"><%= display_field(@model, "RampFirstSpike", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="FrequencyFilterType">
        <td class="property-name">FrequencyFilterType</td>
        <td class="property-value"><%= display_field(@model, "FrequencyFilterType", "%s", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="FrequencyPassAbove">
        <td class="property-name">FrequencyPassAbove</td>
        <td class="property-value"><%= display_field(@model, "FrequencyPassAbove", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      <tr id="FrequencyPassBelow">
        <td class="property-name">FrequencyPassBelow</td>
        <td class="property-value"><%= display_field(@model, "FrequencyPassBelow", "%.4f", "N/A") %> UNITS <span data-scroll="desc-DESC" class="help-btn ui-icon ui-icon-info"></span></td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
